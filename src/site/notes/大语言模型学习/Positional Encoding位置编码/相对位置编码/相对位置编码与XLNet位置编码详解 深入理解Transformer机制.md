---
{"dg-publish":true,"dg-permalink":"/å¤§è¯­è¨€æ¨¡åž‹å­¦ä¹ /Positional-Encodingä½ç½®ç¼–ç /ç›¸å¯¹ä½ç½®ç¼–ç /ç›¸å¯¹ä½ç½®ç¼–ç ä¸ŽXLNetä½ç½®ç¼–ç è¯¦è§£-æ·±å…¥ç†è§£Transformeræœºåˆ¶","dg-home":false,"dg-description":"åœ¨æ­¤è¾“å…¥ç¬”è®°çš„æè¿°","dg-hide":false,"dg-hide-title":false,"dg-show-backlinks":true,"dg-show-local-graph":true,"dg-show-inline-title":true,"dg-pinned":false,"dg-passphrase":"åœ¨æ­¤è¾“å…¥è®¿é—®å¯†ç ","dg-enable-mathjax":false,"dg-enable-mermaid":false,"dg-enable-uml":false,"dg-note-icon":0,"dg-enable-dataview":false,"tags":["NLP"],"permalink":"/å¤§è¯­è¨€æ¨¡åž‹å­¦ä¹ /Positional-Encodingä½ç½®ç¼–ç /ç›¸å¯¹ä½ç½®ç¼–ç /ç›¸å¯¹ä½ç½®ç¼–ç ä¸ŽXLNetä½ç½®ç¼–ç è¯¦è§£-æ·±å…¥ç†è§£Transformeræœºåˆ¶/","dgShowBacklinks":true,"dgShowLocalGraph":true,"dgShowInlineTitle":true,"dgPassFrontmatter":true,"noteIcon":0,"created":"2025-04-07T14:03:52.000+08:00","updated":"2025-04-13T13:06:02.000+08:00"}
---



## å…ƒæ•°æ®
- åˆ†ç±»ï¼šè‡ªç„¶è¯­è¨€å¤„ç† (NLP)
- æ ‡ç­¾ï¼šTransformerã€ç›¸å¯¹ä½ç½®ç¼–ç ã€XLNetã€æ·±åº¦å­¦ä¹ 
- æ—¥æœŸï¼š2025å¹´3æœˆ2æ—¥

---



## å†…å®¹å¤„ç†

### æ ¸å¿ƒè§‚ç‚¹æ¦‚è¿°
æœ¬æ–‡ä¸»è¦æŽ¢è®¨äº†åœ¨Transformeræ¨¡åž‹ä¸­å¼•å…¥ç›¸å¯¹ä½ç½®ç¼–ç çš„æ–¹æ³•ï¼Œå¹¶è¯¦ç»†è¯´æ˜Žäº†Googleæå‡ºçš„æ”¹è¿›ä»¥åŠXLNetä¸­çš„ä½ç½®ç¼–ç ç­–ç•¥ã€‚è¿™äº›æ”¹è¿›æ—¨åœ¨æ›´é«˜æ•ˆåœ°æ•æ‰åºåˆ—ä¸­å…ƒç´ çš„ç›¸å¯¹ä½ç½®ä¿¡æ¯ï¼Œæå‡æ¨¡åž‹å¯¹é•¿åºåˆ—çš„ç†è§£èƒ½åŠ›ã€‚

---


### ç›¸å¯¹ä½ç½®ç¼–ç çš„åŸºç¡€åŽŸç†
åœ¨æ ‡å‡†Transformeræ¨¡åž‹ä¸­ï¼Œä½ç½®ç¼–ç æ˜¯é€šè¿‡é™æ€çš„ä¸‰è§’å‡½æ•°å½¢å¼ç”Ÿæˆçš„ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•æ— æ³•æ•æ‰åºåˆ—ä¸­å…ƒç´ ä¹‹é—´çš„**ç›¸å¯¹ä½ç½®ä¿¡æ¯**ã€‚Googleæå‡ºäº†ä¸€ç§æ”¹è¿›æ–¹æ³•ï¼Œé€šè¿‡ç”¨ç›¸å¯¹ä½ç½®å‘é‡æ›¿ä»£ä¼ ç»Ÿçš„ä½ç½®ç¼–ç ï¼Œå¢žå¼ºäº†æ¨¡åž‹çš„ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›ã€‚

#### æ”¹è¿›ç‚¹ï¼š
1. **åŽ»æŽ‰ç»å¯¹ä½ç½®çš„å½±å“**ï¼šä¼ ç»Ÿä½ç½®ç¼–ç ä¸­åŒ…å«ç»å¯¹ä½ç½®ä¿¡æ¯ï¼Œè€Œæ–°æ–¹æ³•å°†å…¶ç§»é™¤ã€‚
2. **å¼•å…¥ç›¸å¯¹ä½ç½®å‘é‡**ï¼šç”¨äºŒå…ƒç›¸å¯¹ä½ç½®å‘é‡ $$R_{i,j}$$ æ›¿ä»£ç»å¯¹ä½ç½®ä¿¡æ¯ï¼Œåˆ†åˆ«ä½œç”¨äºŽKeyå’ŒValueçš„è®¡ç®—ã€‚
3. **æˆªæ–­å¤„ç†**ï¼šä¸ºäº†å‡å°‘è®¡ç®—å¤æ‚åº¦ï¼Œé€šå¸¸ä¼šå¯¹ç›¸å¯¹ä½ç½®å‘é‡è¿›è¡Œæˆªæ–­ï¼Œåªä¿ç•™æœ‰é™é•¿åº¦çš„èŒƒå›´ã€‚

å…¬å¼è°ƒæ•´å¦‚ä¸‹ï¼š
- Attentionæƒé‡è®¡ç®—ï¼š
  $$
  a_{i,j} = \text{softmax}(x_i W_Q (x_j W_K + R_{i,j}^K)^\top)
  $$
- è¾“å‡ºè®¡ç®—ï¼š
  $$
  o_i = \sum_j a_{i,j} (x_j W_V + R_{i,j}^V)
  $$

---


### XLNetä¸­çš„ä½ç½®ç¼–ç 
XLNetè¿›ä¸€æ­¥ä¼˜åŒ–äº†ç›¸å¯¹ä½ç½®ç¼–ç ï¼Œç›´æŽ¥å°†ç»å¯¹ä½ç½®å‘é‡æ›¿æ¢ä¸ºç›¸å¯¹ä½ç½®å‘é‡ï¼ŒåŒæ—¶å¼•å…¥ä¸¤ä¸ªå¯è®­ç»ƒå‘é‡ $$u$$ å’Œ $$v$$ æ¥å¢žå¼ºçµæ´»æ€§ã€‚

#### æ ¸å¿ƒå…¬å¼å±•å¼€ï¼š
XLNetçš„attentionå…¬å¼å¦‚ä¸‹ï¼š
$$
q_i k_j^\top = x_i W_Q W_K^\top x_j^\top + x_i W_Q W_K^\top R_{i-j}^\top + u W_Q W_K^\top x_j^\top + v W_Q W_K^\top R_{i-j}^\top
$$

ðŸ’¡ **åˆ›æ–°ç‚¹**ï¼š
1. **å¯è®­ç»ƒå‘é‡**ï¼šç›¸æ¯”äºŽé™æ€çš„ä¸‰è§’å‡½æ•°å¼ç¼–ç ï¼Œ$$u$$ å’Œ $$v$$ æ˜¯å¯è®­ç»ƒçš„ï¼Œä»Žè€Œæä¾›æ›´å¤§çš„è¡¨è¾¾èƒ½åŠ›ã€‚
2. **æ— æˆªæ–­å¤„ç†**ï¼šXLNetç›´æŽ¥ä½¿ç”¨æ­£å¼¦æ³¢å½¢å¼ç”Ÿæˆç›¸å¯¹ä½ç½®å‘é‡ï¼Œä¸å†è¿›è¡Œæˆªæ–­ï¼Œä»¥æ”¯æŒæ›´çµæ´»çš„åºåˆ—å»ºæ¨¡ã€‚

---


### æ“ä½œæ­¥éª¤
âœ… **å¼•å…¥ç›¸å¯¹ä½ç½®ä¿¡æ¯**ï¼š
   - åœ¨ä¼ ç»Ÿattentionå…¬å¼ä¸­ï¼Œæ›¿æ¢ç»å¯¹ä½ç½®å‘é‡ä¸ºç›¸å¯¹ä½ç½®å‘é‡ $$R_{i,j}$$ã€‚
   
âš  **æ³¨æ„æˆªæ–­èŒƒå›´**ï¼š
   - ç¡®ä¿æˆªæ–­èŒƒå›´ $$[p_{\text{min}}, p_{\text{max}}]$$ ä¸ä¼šè¿‡å¤§ï¼Œä»¥é¿å…è®¡ç®—å¤æ‚åº¦å¢žåŠ ã€‚
   
â— **è®­ç»ƒä¼˜åŒ–**ï¼š
   - ä½¿ç”¨å¯è®­ç»ƒå‘é‡ $$u, v$$ æ—¶ï¼Œéœ€æ³¨æ„åˆå§‹åŒ–ç­–ç•¥ï¼Œä»¥é¿å…æ¨¡åž‹åˆæœŸä¸ç¨³å®šã€‚

---


### å¸¸è§é”™è¯¯
> **è¯¯åŒº1**ï¼šå¿½ç•¥ç›¸å¯¹ä½ç½®ä¿¡æ¯çš„æˆªæ–­èŒƒå›´ï¼Œå¯¼è‡´è®¡ç®—èµ„æºæµªè´¹ã€‚  
> **è¯¯åŒº2**ï¼šæœªæ­£ç¡®åˆå§‹åŒ–å¯è®­ç»ƒå‘é‡ $$u, v$$ï¼Œå¯èƒ½å¯¼è‡´è®­ç»ƒæ”¶æ•›å›°éš¾ã€‚  
> **è¯¯åŒº3**ï¼šå°†ç»å¯¹ä½ç½®å’Œç›¸å¯¹ä½ç½®æ··ç”¨ï¼Œç ´åæ¨¡åž‹çš„ä¸€è‡´æ€§ã€‚

---


### æ•°æ®è¡¨æ ¼ï¼šæˆªæ–­èŒƒå›´ç¤ºä¾‹
| å‚æ•°åç§°      | ç¬¦å·            | ç¤ºä¾‹å€¼       |
|---------------|-----------------|--------------|
| æœ€å°æˆªæ–­èŒƒå›´  | $$p_{\text{min}}$$ | -10          |
| æœ€å¤§æˆªæ–­èŒƒå›´  | $$p_{\text{max}}$$ | 10           |
| å¯è®­ç»ƒå‘é‡ç»´åº¦| $$d$$            | ä¸Žembeddingç›¸åŒ |

---



## ðŸ“ˆ è¶‹åŠ¿é¢„æµ‹
æœªæ¥Transformerä¸­çš„ä½ç½®ç¼–ç å¯èƒ½è¿›ä¸€æ­¥æœä»¥ä¸‹æ–¹å‘å‘å±•ï¼š
1. æ›´é«˜æ•ˆçš„åŠ¨æ€ä½ç½®ç¼–ç æ–¹æ³•ï¼Œä»¥é€‚åº”è¶…é•¿åºåˆ—ä»»åŠ¡ã€‚
2. èžåˆå¤šæ¨¡æ€ä¿¡æ¯ï¼ˆå¦‚å›¾åƒå’Œæ–‡æœ¬ï¼‰çš„ç»Ÿä¸€ä½ç½®è¡¨ç¤ºã€‚
3. å¢žå¼ºå¯è§£é‡Šæ€§ï¼Œä½¿æ¨¡åž‹æ›´æ˜“äºŽç†è§£å…¶å…³æ³¨æ¨¡å¼ã€‚

---



## [æ€è€ƒ] å»¶ä¼¸é—®é¢˜
1. XLNetä¸­çš„å¯è®­ç»ƒå‘é‡ $$u, v$$ æ˜¯å¦å¯ä»¥è¿›ä¸€æ­¥æ‰©å±•ä¸ºå¤šç»´çŸ©é˜µä»¥å¢žå¼ºè¡¨è¾¾èƒ½åŠ›ï¼Ÿ
2. ç›¸å¯¹ä½ç½®ç¼–ç æ˜¯å¦é€‚ç”¨äºŽæ‰€æœ‰ç±»åž‹çš„Transformerä»»åŠ¡ï¼Œå¦‚å›¾åƒç”Ÿæˆæˆ–è¯­éŸ³è¯†åˆ«ï¼Ÿ
3. åœ¨ä½Žèµ„æºåœºæ™¯ä¸‹ï¼Œç›¸å¯¹ä½ç½®ç¼–ç æ˜¯å¦ä¼šå¢žåŠ æ¨¡åž‹å¤æ‚åº¦å¹¶å½±å“æ€§èƒ½ï¼Ÿ

---



## è¡ŒåŠ¨æ¸…å•
- [ ] å®žçŽ°Googleæå‡ºçš„ç›¸å¯¹ä½ç½®ç¼–ç æ–¹æ¡ˆï¼Œå¹¶æµ‹è¯•åœ¨æ–‡æœ¬åˆ†ç±»ä»»åŠ¡ä¸­çš„æ•ˆæžœã€‚
- [ ] æ¯”è¾ƒæ ‡å‡†Transformerä¸ŽXLNetåœ¨é•¿æ–‡æœ¬å»ºæ¨¡ä¸Šçš„æ€§èƒ½å·®å¼‚ã€‚
- [ ] æŽ¢ç´¢ä¸åŒæˆªæ–­èŒƒå›´å¯¹æ¨¡åž‹æ€§èƒ½çš„å½±å“ã€‚

---

> åŽŸå§‹å‡ºå¤„ï¼š[Googleè®ºæ–‡å…³äºŽç›¸å¯¹ä½ç½®ç¼–ç ](https://arxiv.org/abs/1901.02860)  
> Transformer-XLè®ºæ–‡ï¼š[https://arxiv.org/abs/1901.02860](https://arxiv.org/abs/1901.02860)
