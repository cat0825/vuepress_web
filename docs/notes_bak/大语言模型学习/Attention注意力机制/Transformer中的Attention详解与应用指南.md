---
dg-publish: true
dg-permalink: /å¤§è¯­è¨€æ¨¡å‹å­¦ä¹ /Attentionæ³¨æ„åŠ›æœºåˆ¶/Transformerä¸­çš„Attentionè¯¦è§£ä¸åº”ç”¨æŒ‡å—
dg-home: false
dg-description: åœ¨æ­¤è¾“å…¥ç¬”è®°çš„æè¿°
dg-hide: false
dg-hide-title: false
dg-show-backlinks: true
dg-show-local-graph: true
dg-show-inline-title: true
dg-pinned: false
dg-passphrase: åœ¨æ­¤è¾“å…¥è®¿é—®å¯†ç 
dg-enable-mathjax: false
dg-enable-mermaid: false
dg-enable-uml: false
dg-note-icon: 0
dg-enable-dataview: false
tags:
  - NLP
permalink: /å¤§è¯­è¨€æ¨¡å‹å­¦ä¹ /Attentionæ³¨æ„åŠ›æœºåˆ¶/Transformerä¸­çš„Attentionè¯¦è§£ä¸åº”ç”¨æŒ‡å—/
dgShowBacklinks: true
dgShowLocalGraph: true
dgShowInlineTitle: true
dgPassFrontmatter: true
noteIcon: 0
created: 2025-04-03T22:42:29.000+08:00
updated: 2025-04-13T13:06:02.000+08:00
title: Transformerä¸­çš„Attentionè¯¦è§£ä¸åº”ç”¨æŒ‡å—
createTime: 2025/05/13 17:33:53
---



## å…ƒæ•°æ®
- **åˆ†ç±»**ï¼šæ·±åº¦å­¦ä¹ ã€è‡ªç„¶è¯­è¨€å¤„ç†  
- **æ ‡ç­¾**ï¼šTransformerã€Attentionæœºåˆ¶ã€æ·±åº¦å­¦ä¹ ã€æœºå™¨ç¿»è¯‘ã€NLP  
- **æ—¥æœŸ**ï¼š2024å¹´10æœˆ2æ—¥   

---



## å†…å®¹æ¦‚è¿°
Transformeræ¨¡å‹ä¸­çš„Attentionæœºåˆ¶æ˜¯æ·±åº¦å­¦ä¹ é¢†åŸŸçš„ä¸€é¡¹é‡è¦æŠ€æœ¯ï¼Œå¹¿æ³›åº”ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ä»»åŠ¡ä¸­ã€‚æœ¬æ–‡å°†é‡ç‚¹è§£æAttentionçš„ä¸¤ç§ä¸»è¦å½¢å¼ï¼š**Self-Attention**å’Œ**Cross-Attention**ï¼Œå¹¶æ¢è®¨å®ƒä»¬åœ¨Transformerçš„ç¼–ç å™¨ï¼ˆEncoderï¼‰å’Œè§£ç å™¨ï¼ˆDecoderï¼‰ä¸­çš„å…·ä½“å®ç°ã€‚

---



## æ ¸å¿ƒå†…å®¹

### âœ… Self-Attentionæœºåˆ¶
Self-Attentionä¸»è¦ç”¨äºæ•æ‰è¾“å…¥åºåˆ—å†…éƒ¨çš„ä¾èµ–å…³ç³»ã€‚å®ƒå…è®¸åºåˆ—ä¸­çš„æ¯ä¸ªéƒ¨åˆ†å…³æ³¨åºåˆ—ä¸­çš„å…¶ä»–éƒ¨åˆ†ã€‚

#### Encoderä¸­çš„Self-Attention
- **ç‰¹ç‚¹**ï¼šå½“å‰ä½ç½®çš„tokenä¸æ•´ä¸ªåºåˆ—ä¸­çš„æ‰€æœ‰tokenè¿›è¡Œè®¡ç®—ã€‚
- **ä½œç”¨**ï¼šå¸®åŠ©æ¨¡å‹ç†è§£è¾“å…¥åºåˆ—çš„å…¨å±€ä¿¡æ¯ã€‚


#### Decoderä¸­çš„Self-Attention
- **ç‰¹ç‚¹**ï¼šå½“å‰ä½ç½®çš„tokenåªä¸å…¶ä¹‹å‰çš„tokenè®¡ç®—ï¼Œé‡‡ç”¨Masked Attentionï¼ˆæˆ–ç§°Casual Attentionï¼‰ã€‚
- **ä½œç”¨**ï¼šé¿å…è§£ç è¿‡ç¨‹ä¸­ä¿¡æ¯æ³„æ¼ï¼Œç¡®ä¿ç”Ÿæˆé¡ºåºçš„é€»è¾‘æ€§ã€‚

---


### âœ… Cross-Attentionæœºåˆ¶
Cross-Attentionç”¨äºèåˆæ¥è‡ªä¸åŒåºåˆ—çš„ä¿¡æ¯ã€‚åœ¨Transformerè§£ç å™¨ä¸­ï¼ŒCross-Attentionå…è®¸è§£ç å™¨å…³æ³¨ç¼–ç å™¨çš„è¾“å‡ºã€‚  
- **æŸ¥è¯¢ï¼ˆQï¼‰**æ¥è‡ªè§£ç å™¨è¾“å…¥åºåˆ—  
- **é”®ï¼ˆKï¼‰å’Œå€¼ï¼ˆVï¼‰**æ¥è‡ªç¼–ç å™¨è¾“å‡ºåºåˆ—  
- **åº”ç”¨åœºæ™¯**ï¼šæœºå™¨ç¿»è¯‘ä¸­ï¼Œå°†æºè¯­è¨€ä¸ç›®æ ‡è¯­è¨€å¯¹é½ã€‚

---


### âš ï¸ å¸¸è§é”™è¯¯
1. **å¿½ç•¥Masked Attentionçš„é‡è¦æ€§**ï¼šåœ¨è§£ç å™¨ä¸­æœªæ­£ç¡®åº”ç”¨Masked Attentionä¼šå¯¼è‡´ä¿¡æ¯æ³„æ¼ã€‚
2. **æ··æ·†Self-Attentionä¸Cross-Attention**ï¼šæ³¨æ„ä¸¤è€…çš„è¾“å…¥æ¥æºä¸åŒã€‚
3. **æœªä¼˜åŒ–QKVçŸ©é˜µè®¡ç®—æ€§èƒ½**ï¼šå¯èƒ½å¯¼è‡´æ¨¡å‹è®­ç»ƒæ•ˆç‡ä½ä¸‹ã€‚

---


### ğŸ’¡ å¯å‘ç‚¹
1. Self-Attentionæœºåˆ¶ä¸ä»…é€‚ç”¨äºæ–‡æœ¬åºåˆ—ï¼Œä¹Ÿå¯ä»¥æ‰©å±•åˆ°å›¾åƒå¤„ç†ç­‰é¢†åŸŸã€‚
2. Cross-Attentionåœ¨å¤šæ¨¡æ€å­¦ä¹ ä¸­å…·æœ‰æ½œåŠ›ï¼Œä¾‹å¦‚ç»“åˆå›¾åƒå’Œæ–‡æœ¬ä¿¡æ¯ã€‚

---



## è¡ŒåŠ¨æ¸…å•
1. ğŸ“˜ å­¦ä¹ Transformerçš„ä»£ç å®ç°ï¼Œé‡ç‚¹å…³æ³¨Attentionæ¨¡å—ã€‚
2. ğŸ§ª å®éªŒï¼šå°è¯•åœ¨æœºå™¨ç¿»è¯‘ä»»åŠ¡ä¸­åˆ†åˆ«è°ƒæ•´Self-Attentionå’ŒCross-Attentionå‚æ•°ã€‚
3. ğŸ“ˆ ç ”ç©¶è¶‹åŠ¿ï¼šæ¢ç´¢Attentionæœºåˆ¶åœ¨å¤šæ¨¡æ€ä»»åŠ¡ä¸­çš„è¡¨ç°ã€‚

---



## ä¸ªäººè§è§£

### [æ€è€ƒ]æ¿å—
1. å¦‚ä½•ä¼˜åŒ–Self-Attentionæœºåˆ¶ä»¥é€‚åº”æ›´é•¿çš„åºåˆ—ï¼Ÿ
2. Cross-Attentionæ˜¯å¦å¯ä»¥åœ¨éè¯­è¨€ä»»åŠ¡ä¸­æœ‰æ•ˆåº”ç”¨ï¼Œä¾‹å¦‚å›¾åƒåˆ°æ–‡æœ¬ç”Ÿæˆï¼Ÿ
3. Masked Attentionæ˜¯å¦å¯ä»¥æ‰©å±•åˆ°å…¶ä»–é¢†åŸŸï¼Œä¾‹å¦‚æ—¶é—´åºåˆ—é¢„æµ‹ï¼Ÿ

---



## ä½œè€…è§‚ç‚¹ vs ä¸ªäººè§‚ç‚¹å¯¹æ¯”
| **ä½œè€…è§‚ç‚¹**                             | **ä¸ªäººè§‚ç‚¹**                                   |
|------------------------------------------|-----------------------------------------------|
| Self-Attentionç”¨äºæ•æ‰åºåˆ—å†…éƒ¨ä¾èµ–å…³ç³»    | å¯æ‰©å±•åˆ°å›¾åƒå¤„ç†é¢†åŸŸï¼Œæ•æ‰åƒç´ ä¹‹é—´çš„å…³è”       |
| Cross-Attentionç”¨äºèåˆä¸åŒåºåˆ—çš„ä¿¡æ¯    | åœ¨å¤šæ¨¡æ€å­¦ä¹ ä¸­å…·æœ‰æ›´å¹¿æ³›çš„åº”ç”¨æ½œåŠ›            |
| Masked Attentioné¿å…è§£ç è¿‡ç¨‹ä¿¡æ¯æ³„æ¼     | å¯è¿›ä¸€æ­¥ä¼˜åŒ–ç®—æ³•ä»¥å‡å°‘è®¡ç®—å¤æ‚åº¦              |

---



## åç»­è¿½è¸ªç ”ç©¶è®¡åˆ’
1. æ·±å…¥ç ”ç©¶Masked Attentionåœ¨æ—¶é—´åºåˆ—é¢„æµ‹ä¸­çš„åº”ç”¨ã€‚
2. æ¢ç´¢Attentionæœºåˆ¶åœ¨å¤šæ¨¡æ€å­¦ä¹ ä¸­çš„æ‰©å±•ï¼Œä¾‹å¦‚ç»“åˆè§†è§‰å’Œè¯­è¨€ä¿¡æ¯ã€‚
3. å…³æ³¨Transformeræ¨¡å‹åœ¨æ›´å¤§è§„æ¨¡æ•°æ®é›†ä¸Šçš„æ€§èƒ½ä¼˜åŒ–ã€‚

> åŸæ–‡æ¥æºï¼šTransformerä¸­çš„Attentionæœºåˆ¶è§£æ
