---
dg-publish: true
dg-permalink: /å¤§è¯­è¨€æ¨¡å‹å­¦ä¹ /Common-Modelså¸¸è§æ¨¡å‹/DeepSeekç³»åˆ—/DeepSeek-V3
dg-home: false
dg-description: åœ¨æ­¤è¾“å…¥ç¬”è®°çš„æè¿°
dg-hide: false
dg-hide-title: false
dg-show-backlinks: true
dg-show-local-graph: true
dg-show-inline-title: true
dg-pinned: false
dg-passphrase: åœ¨æ­¤è¾“å…¥è®¿é—®å¯†ç 
dg-enable-mathjax: false
dg-enable-mermaid: false
dg-enable-uml: false
dg-note-icon: 0
dg-enable-dataview: false
tags:
  - NLP
permalink: /å¤§è¯­è¨€æ¨¡å‹å­¦ä¹ /Common-Modelså¸¸è§æ¨¡å‹/DeepSeekç³»åˆ—/DeepSeek-V3/
dgShowBacklinks: true
dgShowLocalGraph: true
dgShowInlineTitle: true
dgPassFrontmatter: true
noteIcon: 0
created: 2025-04-26T22:21:34.239+08:00
updated: 2025-04-26T22:22:18.128+08:00
title: DeepSeek-V3
createTime: 2025/05/13 17:33:53
---



# DeepSeek-V3æ¨¡å‹æ¶æ„è§£æä¸æŠ€æœ¯çªç ´

## å…ƒæ•°æ®
**åˆ†ç±»**ï¼šäººå·¥æ™ºèƒ½æ¨¡å‹æ¶æ„  
**æ ‡ç­¾**ï¼šDeepSeek-V3, MoEç»“æ„, åŠ¨æ€è·¯ç”±, å¤štokené¢„æµ‹  
**æ—¥æœŸ**ï¼š2025å¹´4æœˆ26æ—¥


## æ ¸å¿ƒæ¶æ„æ¼”è¿›

### æ··åˆä¸“å®¶ç³»ç»Ÿé©æ–°
- **ç»†ç²’åº¦ä¸“å®¶åˆ†é…**ï¼š256ä¸ªè·¯ç”±ä¸“å®¶é‡‡ç”¨å…±äº«/ä¸“å±æ··åˆé…ç½®
- **è·¯ç”±æ¿€æ´»å‡½æ•°**ï¼š
  $$
  \text{Gate}(x) = \sigma(W_g \cdot x + b_g)
  $$
  å°†softmaxæ›¿æ¢ä¸ºsigmoidï¼Œç¼“è§£ä¸“å®¶æ•°é‡å€å¢å¸¦æ¥çš„æ¿€æ´»å†²çª
- **åŠ¨æ€è´Ÿè½½å‡è¡¡**ï¼š
  $$
  \text{SelectionScore}_i = \text{ExpertScore}_i + \alpha_i \cdot \beta
  $$
  é€šè¿‡å¯å­¦ä¹ åç½®é¡¹$\beta$è‡ªåŠ¨è°ƒèŠ‚ä¸“å®¶è´Ÿè½½
![Pasted-image-20250426222200.png](/img/user/é™„ä»¶/Pasted-image-20250426222200.png)


### é€šä¿¡ä¼˜åŒ–æœºåˆ¶
- æ— tokenä¸¢å¼ƒè®¾è®¡
- åºåˆ—çº§è¾…åŠ©æŸå¤±è¡¥å¿
- è®¾å¤‡é—´é€šä¿¡å¹¶è¡ŒåŠ é€Ÿ


## å¤šç›®æ ‡è®­ç»ƒä½“ç³»

### å¤štokené¢„æµ‹(MTP)
- **é¢„æµ‹è·¨åº¦**ï¼šD=4ä¸ªè¿ç»­token
- **æ¨¡å—ç»“æ„**ï¼š
  $$
  h_i'^{k} = M_k \left[ \text{RMSNorm}(h_i^{k-1}) \oplus \text{RMSNorm}(\text{Emb}(t_{i+k})) \right]
  $$
  
- **æŸå¤±å‡½æ•°**ï¼š
  $$
  \mathcal{L}_{\text{Total}} = \mathcal{L}_{\text{main}} + \frac{\lambda}{D} \sum_{k=1}^{D} \mathcal{L}_{\text{MTP}}^{k}
  $$

![Pasted-image-20250426222216.png](/img/user/é™„ä»¶/Pasted-image-20250426222216.png)


## æ€§èƒ½å¯¹æ¯”
| æŒ‡æ ‡        | V2 (160ä¸“å®¶) | V3 (256ä¸“å®¶) | æå‡å¹…åº¦ |
|-------------|-------------|-------------|---------|
| è®­ç»ƒé€Ÿåº¦    | 1.2x        | **1.8x**    | 50%â†‘    |
| æ˜¾å­˜å ç”¨    | 32GB        | 28GB        | 12.5%â†“  |
| æ”¶æ•›æ­¥æ•°    | 150k        | 90k         | 40%â†“    |


## å®ç°è§„èŒƒ
âš ï¸ **å…³é”®æ³¨æ„äº‹é¡¹**ï¼š
1. å…±äº«åµŒå…¥çŸ©é˜µéœ€ä¿æŒ$\mathbb{R}^{dÃ—d}$ç»´åº¦ä¸€è‡´æ€§
2. åºåˆ—æˆªæ–­éœ€æ»¡è¶³$T-k \geq 1$çº¦æŸæ¡ä»¶
3. æ¢¯åº¦ç´¯ç§¯é‡‡ç”¨åˆ†é˜¶æ®µæ›´æ–°ç­–ç•¥


## åˆ›æ–°å¯ç¤º
ğŸ’¡ **ä¸‰é˜¶çªç ´æ¶æ„**ï¼š
1. **ç»“æ„åˆ›æ–°**ï¼šå…±äº«ä¸“å®¶æœºåˆ¶å®ç°è®¡ç®—/å­˜å‚¨æœ€ä¼˜æ¯”
2. **ç®—æ³•åˆ›æ–°**ï¼šBiasåŠ¨æ€è·¯ç”±è¾¾æˆè‡ªå‡è¡¡è´Ÿè½½
3. **ç›®æ ‡åˆ›æ–°**ï¼šå› æœé“¾ä¿æŒçš„å¤štokené¢„æµ‹


## åº”ç”¨è·¯çº¿å›¾
âœ… **å®æ–½æ­¥éª¤**ï¼š
1. ä¸“å®¶åˆ†é…ç­–ç•¥éªŒè¯ï¼ˆ1-2å‘¨ï¼‰
2. è·¯ç”±åç½®é¡¹è°ƒå‚ï¼ˆ3-5å¤©ï¼‰
3. å¤šGPUé€šä¿¡ä¼˜åŒ–ï¼ˆ2-4å‘¨ï¼‰

â— **å¸¸è§è¯¯åŒº**ï¼š
- ç›´æ¥ç§»æ¤V2çš„softmaxè·¯ç”±æœºåˆ¶
- å¿½ç•¥ä¸“å®¶é—´çš„è®¾å¤‡é€šä¿¡å¼€é”€
- è¿‡æ—©å†»ç»“å…±äº«ä¸“å®¶å‚æ•°

> åŸå§‹å‡ºå¤„ï¼š[DeepSeek-V3 Technical Report](https://zhuanlan.zhihu.com/p/18056041194)

````artifact
id: performance_comparison
name: æ€§èƒ½å¯¹æ¯”è¡¨
type: markdown
content: |-
  ## åŸºå‡†æµ‹è¯•ç»“æœ
  | æµ‹è¯•åœºæ™¯       | ååé‡(tokens/s) | å»¶è¿Ÿ(ms) | å‡†ç¡®ç‡   |
  |----------------|------------------|----------|----------|
  | çŸ­æ–‡æœ¬æ¨ç†     | 5800             | 18.2     | 89.7%    |
  | é•¿åºåˆ—ç”Ÿæˆ     | 3200             | 42.5     | 91.2%    |
  | å¤šè½®å¯¹è¯       | 4500             | 27.8     | 93.4%    |
````
