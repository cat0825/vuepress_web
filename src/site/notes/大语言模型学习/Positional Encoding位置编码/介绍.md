---
{"dg-publish":true,"dg-permalink":"/å¤§è¯­è¨€æ¨¡å‹å­¦ä¹ /Positional-Encodingä½ç½®ç¼–ç /ä»‹ç»","dg-home":false,"dg-description":"åœ¨æ­¤è¾“å…¥ç¬”è®°çš„æè¿°","dg-hide":false,"dg-hide-title":false,"dg-show-backlinks":true,"dg-show-local-graph":true,"dg-show-inline-title":true,"dg-pinned":false,"dg-passphrase":"åœ¨æ­¤è¾“å…¥è®¿é—®å¯†ç ","dg-enable-mathjax":false,"dg-enable-mermaid":false,"dg-enable-uml":false,"dg-note-icon":0,"dg-enable-dataview":false,"tags":["NLP"],"permalink":"/å¤§è¯­è¨€æ¨¡å‹å­¦ä¹ /Positional-Encodingä½ç½®ç¼–ç /ä»‹ç»/","dgShowBacklinks":true,"dgShowLocalGraph":true,"dgShowInlineTitle":true,"dgPassFrontmatter":true,"noteIcon":0,"created":"2025-04-07T11:36:16.000+08:00","updated":"2025-04-13T13:06:02.000+08:00"}
---



## å…ƒæ•°æ®
- **åˆ†ç±»**ï¼šè‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰
- **æ ‡ç­¾**ï¼šTransformer, ä½ç½®ç¼–ç , æ·±åº¦å­¦ä¹ , NLP, è‡ªç„¶è¯­è¨€å¤„ç†
- **æ—¥æœŸ**ï¼š2025å¹´3æœˆ2æ—¥

---



## æ ¸å¿ƒå†…å®¹æ€»ç»“
ä½ç½®ç¼–ç ï¼ˆPositional Encodingï¼‰æ˜¯Transformeræ¨¡å‹ä¸­ä¸€ç§ç”¨äºå¼¥è¡¥åºåˆ—æ—¶åºä¿¡æ¯ç¼ºå¤±çš„æœºåˆ¶ã€‚ç”±äºTransformerçš„Attentionæœºåˆ¶æœ¬èº«æ˜¯æ— å‘çš„ï¼Œæ— æ³•æ•æ‰åºåˆ—ä¸­è¯è¯­çš„é¡ºåºä¿¡æ¯ï¼Œå› æ­¤éœ€è¦é€šè¿‡ä½ç½®ç¼–ç æ¥æ˜¾å¼ä¼ é€’è¿™äº›ä¿¡æ¯ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»ä½ç½®ç¼–ç çš„è®¾è®¡æ€è·¯ã€æ•°å­¦è¡¨è¾¾ä»¥åŠå…¶åœ¨å®é™…åº”ç”¨ä¸­çš„ç‰¹ç‚¹ã€‚

---



## å…³é”®å†…å®¹è§£æ

### 1. ä¸ºä»€ä¹ˆéœ€è¦ä½ç½®ç¼–ç ï¼Ÿ
Transformeræ¨¡å‹ä¸RNNä¸åŒï¼Œç¼ºä¹å¯¹åºåˆ—æ—¶åºçš„å¤©ç„¶æ„ŸçŸ¥èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼š
- **â€œä»–æ¬ æˆ‘100ä¸‡â€** å’Œ **â€œæˆ‘æ¬ ä»–100ä¸‡â€** çš„è¯åºä¸åŒï¼Œè¯­ä¹‰å·®åˆ«å·¨å¤§ã€‚
- äººç±»å¯é€šè¿‡ç»å¯¹ä½ç½®ï¼ˆç¬¬å‡ ä¸ªè¯ï¼‰æˆ–ç›¸å¯¹ä½ç½®ï¼ˆè¯ä¸è¯ä¹‹é—´çš„è·ç¦»ï¼‰ç†è§£å¥å­å«ä¹‰ï¼Œä½†Transformeréœ€è¦é¢å¤–æœºåˆ¶æ¥æä¾›è¿™ç§ä¿¡æ¯ã€‚

ğŸ’¡ **å¯å‘ç‚¹**ï¼šä½ç½®ç¼–ç æ˜¯è§£å†³æ— å‘Attentionæœºåˆ¶ä¸­æ—¶åºä¿¡æ¯ç¼ºå¤±é—®é¢˜çš„æ ¸å¿ƒã€‚

---


### 2. ä½ç½®ç¼–ç çš„è®¾è®¡è¦æ±‚
ä½ç½®ç¼–ç éœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªè¦æ±‚ï¼š
| **éœ€æ±‚**                   | **è¯´æ˜**                                                                 |
|----------------------------|--------------------------------------------------------------------------|
| **ç»å¯¹ä½ç½®è¡¨ç¤º**           | èƒ½å¤Ÿæ ‡è¯†æ¯ä¸ªtokenåœ¨åºåˆ—ä¸­çš„å…·ä½“ä½ç½®ã€‚                                   |
| **ç›¸å¯¹ä½ç½®ä¸€è‡´æ€§**         | ä¸åŒåºåˆ—é•¿åº¦ä¸‹ï¼Œç›¸åŒç›¸å¯¹ä½ç½®çš„ç¼–ç ç»“æœåº”ä¸€è‡´ã€‚                           |
| **å¤–æ¨èƒ½åŠ›**               | èƒ½å¤„ç†è®­ç»ƒè¿‡ç¨‹ä¸­æœªè§è¿‡çš„å¥å­é•¿åº¦ï¼ˆå³é•¿åº¦å¤–æ¨é—®é¢˜ï¼‰ã€‚                     |
| **è¿ç»­æ€§ä¸æœ‰ç•Œæ€§**         | ç¼–ç å‡½æ•°éœ€è¿ç»­ä¸”æœ‰ç•Œï¼Œé¿å…è¿‡å¤§çš„å€¼å½±å“è®¡ç®—ç¨³å®šæ€§ã€‚                        |

ğŸ“ˆ **è¶‹åŠ¿é¢„æµ‹**ï¼šéšç€æ¨¡å‹å¤æ‚åº¦å¢åŠ ï¼Œæœªæ¥å¯èƒ½ä¼šå‡ºç°æ›´é«˜æ•ˆã€æ›´è¯­ä¹‰åŒ–çš„ä½ç½®ç¼–ç æ–¹æ³•ã€‚

---


### 3. æ•°å­¦å®ç°ï¼šæ­£å¼¦å‡½æ•°çš„åº”ç”¨
Transformerä¸­ä½¿ç”¨æ­£å¼¦å‡½æ•°ï¼ˆsinï¼‰ç”Ÿæˆä½ç½®ç¼–ç ï¼Œå…¶å…¬å¼å¦‚ä¸‹ï¼š

```math
PE_t = [sin(w_0 * t), sin(w_1 * t), ..., sin(w_i-1 * t), ..., sin(w_dmodel-1 * t)]
```

å…¶ä¸­ï¼š
- \( w_i = 10000^{i / (dmodel-1)} \)
- \( t \) è¡¨ç¤ºtokenåœ¨åºåˆ—ä¸­çš„ç»å¯¹ä½ç½®ã€‚
  
è¿™ç§è®¾è®¡çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨æ­£å¼¦å‡½æ•°çš„å‘¨æœŸæ€§å’Œè¿ç»­æ€§ï¼Œä»¥åŠä¸åŒé¢‘ç‡ç»„åˆé¿å…ä½ç½®å†²çªã€‚

ğŸ’¡ **å¯å‘ç‚¹**ï¼šæ­£å¼¦å‡½æ•°å…·æœ‰å‘¨æœŸæ€§å’Œæ— ç©·å¯æ‰©å±•æ€§ï¼Œéå¸¸é€‚åˆç”¨äºè¡¨ç¤ºä½ç½®ä¿¡æ¯ã€‚

---


### 4. æŠ€æœ¯å®ç°æ­¥éª¤
âœ… **æ­¥éª¤1**ï¼šç¡®å®šè¾“å…¥åºåˆ—çš„é•¿åº¦å’Œæ¨¡å‹ç»´åº¦ï¼ˆdmodelï¼‰ã€‚  
âœ… **æ­¥éª¤2**ï¼šæ ¹æ®å…¬å¼è®¡ç®—æ¯ä¸ªtokenå¯¹åº”çš„æ­£å¼¦å€¼ä½œä¸ºå…¶ä½ç½®ç¼–ç ã€‚  
âœ… **æ­¥éª¤3**ï¼šå°†ä½ç½®ç¼–ç ä¸è¾“å…¥åµŒå…¥å‘é‡ç›¸åŠ ï¼Œå½¢æˆæœ€ç»ˆè¾“å…¥ã€‚  
âš  **æ³¨æ„**ï¼šé¢‘ç‡è®¾ç½®éœ€è¶³å¤Ÿä½ï¼Œä»¥é¿å…ä¸åŒä½ç½®å‡ºç°é‡å ç¼–ç ã€‚

---



## å¸¸è§é”™è¯¯ä¸è­¦å‘Š
âš  **å¸¸è§é”™è¯¯1**ï¼šæœªæ­£ç¡®è®¾ç½®é¢‘ç‡èŒƒå›´ï¼Œå¯¼è‡´ä¸åŒä½ç½®çš„ç¼–ç å€¼é‡å ã€‚  
âš  **å¸¸è§é”™è¯¯2**ï¼šå¿½ç•¥å¤–æ¨èƒ½åŠ›ï¼Œå¯¼è‡´æ¨¡å‹æ— æ³•å¤„ç†è®­ç»ƒé›†ä¸­æœªè§è¿‡çš„é•¿å¥å­ã€‚  
âš  **å¸¸è§é”™è¯¯3**ï¼šç›´æ¥æ›¿æ¢åµŒå…¥å‘é‡ï¼Œè€Œéå åŠ ä½ç½®ç¼–ç ï¼Œå¯èƒ½ä¸¢å¤±åŸå§‹è¯­ä¹‰ä¿¡æ¯ã€‚

---



## ç¤ºä¾‹ä»£ç 
ä»¥ä¸‹æ˜¯åˆ©ç”¨æ­£å¼¦å‡½æ•°ç”Ÿæˆä½ç½®ç¼–ç çš„Pythonå®ç°ï¼š

```python
import numpy as np

def positional_encoding(seq_len, d_model):
    position = np.arange(seq_len)[:, np.newaxis]
    div_term = np.exp(np.arange(0, d_model, 2) * -(np.log(10000.0) / d_model))
    pos_enc = np.zeros((seq_len, d_model))
    pos_enc[:, 0::2] = np.sin(position * div_term)  # å¶æ•°ç»´åº¦
    pos_enc[:, 1::2] = np.cos(position * div_term)  # å¥‡æ•°ç»´åº¦
    return pos_enc

# ç¤ºä¾‹
seq_len = 10
d_model = 16
pos_enc = positional_encoding(seq_len, d_model)
print(pos_enc)
```

---



## [æ€è€ƒ] å»¶ä¼¸é—®é¢˜
1. åœ¨ä¸åŒä»»åŠ¡ä¸­ï¼Œæ˜¯å¦å¯ä»¥è®¾è®¡æ›´è¯­ä¹‰åŒ–çš„ä½ç½®ç¼–ç æ–¹æ³•ï¼Ÿ
2. å¯å¦ç»“åˆåŠ¨æ€å­¦ä¹ æœºåˆ¶ï¼Œè®©æ¨¡å‹è‡ªé€‚åº”ç”Ÿæˆæ›´æœ‰æ•ˆçš„ä½ç½®è¡¨ç¤ºï¼Ÿ
3. æ­£å¼¦å‡½æ•°æ˜¯å¦æ˜¯å”¯ä¸€é€‰æ‹©ï¼Ÿæ˜¯å¦å­˜åœ¨æ›¿ä»£å‡½æ•°æ»¡è¶³åŒæ ·éœ€æ±‚ï¼Ÿ

---



## è¡ŒåŠ¨æ¸…å•
- [ ] æ·±å…¥ç ”ç©¶ç›¸å¯¹ä½ç½®ç¼–ç ï¼ˆRelative Positional Encodingï¼‰çš„å®ç°åŠä¼˜åŠ£ã€‚
- [ ] æµ‹è¯•ä¸åŒé¢‘ç‡èŒƒå›´å¯¹æ¨¡å‹æ€§èƒ½çš„å½±å“ã€‚
- [ ] æ¯”è¾ƒTransformerä¸RNNåœ¨é•¿å¥å¤„ç†ä¸Šçš„è¡¨ç°å·®å¼‚ã€‚

---



## åç»­è¿½è¸ª
- æ¢è®¨æ›´é«˜æ•ˆçš„ä½ç½®ç¼–ç æ–¹æ³•ï¼Œå¦‚åŸºäºç¥ç»ç½‘ç»œç”Ÿæˆçš„ä½ç½®è¡¨ç¤ºã€‚
- åˆ†æä¸åŒä»»åŠ¡åœºæ™¯ä¸‹ï¼Œä½ç½®ç¼–ç å¯¹æ¨¡å‹æ€§èƒ½æå‡çš„å…·ä½“è´¡çŒ®ã€‚

---

> åŸæ–‡å‡ºå¤„ï¼š[Transformerä¸­çš„ä½ç½®ç¼–ç æœºåˆ¶](https://example.com)
