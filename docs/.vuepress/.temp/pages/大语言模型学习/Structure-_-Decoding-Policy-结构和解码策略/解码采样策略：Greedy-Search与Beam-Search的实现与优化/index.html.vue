<template><div><p><strong>åˆ†ç±»</strong>ï¼šè‡ªç„¶è¯­è¨€å¤„ç†<br>
<strong>æ ‡ç­¾</strong>ï¼šè§£ç ç­–ç•¥ã€å¤§æ¨¡å‹ç”Ÿæˆã€Beam Search<br>
<strong>æ—¥æœŸ</strong>ï¼š2025å¹´4æœˆ1æ—¥</p>
<hr>
<h2 id="æ ¸å¿ƒè§‚ç‚¹æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒè§‚ç‚¹æ€»ç»“"><span>æ ¸å¿ƒè§‚ç‚¹æ€»ç»“</span></a></h2>
<p>åœ¨è‡ªç„¶è¯­è¨€å¤„ç†é¢†åŸŸï¼Œå¤§æ¨¡å‹ç”Ÿæˆæ–‡æœ¬æ—¶éœ€è¦é€‰æ‹©è§£ç ç­–ç•¥ä»¥ç¡®ä¿ç”Ÿæˆçš„è´¨é‡å’Œå¤šæ ·æ€§ã€‚æœ¬æ–‡ä¸»è¦æ¢è®¨äº†ä¸¤ç§ä¸»æµè§£ç ç­–ç•¥â€”â€”Greedy Searchå’ŒBeam Searchï¼Œå¹¶é€šè¿‡ä»£ç ç¤ºä¾‹å±•ç¤ºäº†Beam Searchçš„å…·ä½“å®ç°ç»†èŠ‚ã€‚</p>
<ul>
<li><strong>Greedy Search</strong>ï¼šæ¯æ¬¡é€‰æ‹©æ¦‚ç‡æœ€å¤§çš„è¯ï¼Œç®€å•ä½†å¯èƒ½å¯¼è‡´ç”Ÿæˆç»“æœå•è°ƒé‡å¤ã€‚</li>
<li><strong>Beam Search</strong>ï¼šç»´æŠ¤å¤šä¸ªå€™é€‰åºåˆ—ï¼Œé€šè¿‡æ¦‚ç‡å¹³è¡¡è´¨é‡ä¸å¤šæ ·æ€§ï¼Œä½†å¯èƒ½æ˜¾å¾—ä¿å®ˆã€‚</li>
</ul>
<hr>
<h2 id="è§£ç ç­–ç•¥è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#è§£ç ç­–ç•¥è¯¦è§£"><span>è§£ç ç­–ç•¥è¯¦è§£</span></a></h2>
<h3 id="greedy-search" tabindex="-1"><a class="header-anchor" href="#greedy-search"><span>Greedy Search</span></a></h3>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<br>
âœ… æ¯æ¬¡é€‰æ‹©æ¦‚ç‡æœ€é«˜çš„è¯<br>
âš  ç®€å•é«˜æ•ˆï¼Œä½†å¯èƒ½ç”Ÿæˆå•è°ƒã€é‡å¤çš„æ–‡æœ¬</li>
</ul>
<p>ğŸ’¡ <strong>å¯å‘ç‚¹</strong>ï¼šé€‚åˆç®€å•ä»»åŠ¡ï¼Œä½†å¯¹å¤æ‚ç”Ÿæˆä»»åŠ¡æ•ˆæœæ¬ ä½³ã€‚
<img src="/img/user/é™„ä»¶/Pasted image 20250407180111.png" alt="Pasted image 20250407180111.png"></p>
<hr>
<h3 id="beam-search" tabindex="-1"><a class="header-anchor" href="#beam-search"><span>Beam Search</span></a></h3>
<ul>
<li>
<p><strong>æ ¸å¿ƒæœºåˆ¶</strong>ï¼š
âœ… ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸º $$k$$ çš„å€™é€‰åºåˆ—é›†åˆ<br>
âœ… æ¯ä¸€æ­¥ä»æ¯ä¸ªå€™é€‰åºåˆ—çš„æ¦‚ç‡åˆ†å¸ƒä¸­é€‰æ‹©æ¦‚ç‡æœ€é«˜çš„ $$k$$ ä¸ªè¯<br>
âœ… ä¿ç•™æ€»æ¦‚ç‡æœ€é«˜çš„ $$k$$ ä¸ªå€™é€‰åºåˆ—</p>
</li>
<li>
<p><strong>ä»£ç å®ç°</strong>ï¼š</p>
</li>
</ul>
<div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665"> process</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">input_ids</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_scores</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_tokens</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_indices</span><span style="--shiki-light:#999999;--shiki-dark:#666666">):</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    batch_size </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 3</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    group_size </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 3</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    next_beam_scores </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> torch</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">zeros</span><span style="--shiki-light:#999999;--shiki-dark:#666666">((</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">batch_size</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> num_beams</span><span style="--shiki-light:#999999;--shiki-dark:#666666">),</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> dtype</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">next_scores</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">dtype</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    next_beam_tokens </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> torch</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">zeros</span><span style="--shiki-light:#999999;--shiki-dark:#666666">((</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">batch_size</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> num_beams</span><span style="--shiki-light:#999999;--shiki-dark:#666666">),</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> dtype</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">next_tokens</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">dtype</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">    next_beam_indices </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> torch</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">zeros</span><span style="--shiki-light:#999999;--shiki-dark:#666666">((</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">batch_size</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> num_beams</span><span style="--shiki-light:#999999;--shiki-dark:#666666">),</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> dtype</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">next_indices</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">dtype</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">    for</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> batch_idx </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">in</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965"> range</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">batch_size</span><span style="--shiki-light:#999999;--shiki-dark:#666666">):</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">        beam_idx </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 0</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">        for</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> beam_token_rank</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> (</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">next_token</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_score</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_index</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375"> in</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965"> enumerate</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965">            zip</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">next_tokens</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">batch_idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666">],</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_scores</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">batch_idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666">],</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_indices</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">batch_idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666">])</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666">        ):</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">            batch_beam_idx </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> batch_idx </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">*</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> num_beams </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">+</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_index</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">            next_beam_scores</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">batch_idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> beam_idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_score</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">            next_beam_tokens</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">batch_idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> beam_idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_token</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">            next_beam_indices</span><span style="--shiki-light:#999999;--shiki-dark:#666666">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">batch_idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> beam_idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666"> =</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> batch_beam_idx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">            beam_idx </span><span style="--shiki-light:#999999;--shiki-dark:#666666">+=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375">    return</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_beam_scores</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">view</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666">),</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_beam_tokens</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">view</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666">),</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> next_beam_indices</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">view</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676">-</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD"># ç¤ºä¾‹è°ƒç”¨</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">input_ids </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> torch</span><span style="--shiki-light:#999999;--shiki-dark:#666666">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">randint</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 100</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> size</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">3</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666">))</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">input_ids</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> beam_scores </span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE"> beam_search</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">input_ids</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> max_length</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">10</span><span style="--shiki-light:#999999;--shiki-dark:#666666">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A"> num_beams</span><span style="--shiki-light:#999999;--shiki-dark:#666666">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91">3</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965">print</span><span style="--shiki-light:#999999;--shiki-dark:#666666">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE">input_ids</span><span style="--shiki-light:#999999;--shiki-dark:#666666">)</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ’¡ <strong>å¯å‘ç‚¹</strong>ï¼šé€šè¿‡ç»´æŠ¤å¤šä¸ªå€™é€‰åºåˆ—ï¼ŒBeam Searchèƒ½æœ‰æ•ˆæå‡ç”Ÿæˆè´¨é‡ï¼Œä½†ä»£ä»·æ˜¯è®¡ç®—å¤æ‚åº¦æ›´é«˜ã€‚
<img src="/img/user/é™„ä»¶/Pasted image 20250407180124.png" alt="Pasted image 20250407180124.png"></p>
<hr>
<h2 id="å¸¸è§é”™è¯¯è­¦å‘Š" tabindex="-1"><a class="header-anchor" href="#å¸¸è§é”™è¯¯è­¦å‘Š"><span>å¸¸è§é”™è¯¯è­¦å‘Š</span></a></h2>
<p>âš  <strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ol>
<li>Beamå¤§å°ï¼ˆ$$k$$ï¼‰è¿‡å°å¯èƒ½å¯¼è‡´ç”Ÿæˆç»“æœè´¨é‡ä¸‹é™ï¼›è¿‡å¤§åˆ™å¢åŠ è®¡ç®—æˆæœ¬ã€‚</li>
<li>Beam Searchå¯èƒ½è¿‡äºä¿å®ˆï¼Œå¯¼è‡´ç¼ºä¹åˆ›é€ æ€§ç”Ÿæˆã€‚</li>
</ol>
<hr>
<h2 id="æ•°æ®ä¸å…¬å¼" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ä¸å…¬å¼"><span>æ•°æ®ä¸å…¬å¼</span></a></h2>
<h3 id="æ•°æ®è¡¨æ ¼ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è¡¨æ ¼ç¤ºä¾‹"><span>æ•°æ®è¡¨æ ¼ç¤ºä¾‹</span></a></h3>
<table>
<thead>
<tr>
<th>è§£ç ç­–ç•¥</th>
<th>ä¼˜åŠ¿</th>
<th>åŠ£åŠ¿</th>
</tr>
</thead>
<tbody>
<tr>
<td>Greedy Search</td>
<td>ç®€å•é«˜æ•ˆ</td>
<td>å•è°ƒã€é‡å¤</td>
</tr>
<tr>
<td>Beam Search</td>
<td>å¹³è¡¡è´¨é‡ä¸å¤šæ ·æ€§</td>
<td>ä¿å®ˆã€ä¸è‡ªç„¶</td>
</tr>
</tbody>
</table>
<h3 id="å…¬å¼ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#å…¬å¼ç¤ºä¾‹"><span>å…¬å¼ç¤ºä¾‹</span></a></h3>
<p>Beam Searchæ ¸å¿ƒå…¬å¼ï¼š</p>
<p v-pre class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Next_Token_Scores</mtext><mo>=</mo><msub><mtext>Top</mtext><mi>k</mi></msub><mo stretchy="false">(</mo><mtext>ProbabilityÂ Distribution</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Next\_Token\_Scores} = \text{Top}_k(\text{Probability Distribution})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord text"><span class="mord">Next_Token_Scores</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord text"><span class="mord">Top</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.242em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord text"><span class="mord">ProbabilityÂ Distribution</span></span><span class="mclose">)</span></span></span></span></span></p>
<hr>
<h2 id="æ€è€ƒ-å»¶ä¼¸é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#æ€è€ƒ-å»¶ä¼¸é—®é¢˜"><span>[æ€è€ƒ] å»¶ä¼¸é—®é¢˜</span></a></h2>
<ol>
<li>å¦‚ä½•ç»“åˆä¸¤ç§è§£ç ç­–ç•¥ï¼Œè®¾è®¡å‡ºæ—¢é«˜æ•ˆåˆå¤šæ ·åŒ–çš„ç”Ÿæˆç®—æ³•ï¼Ÿ</li>
<li>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ˜¯å¦å¯ä»¥åŠ¨æ€è°ƒæ•´Beamå¤§å°ä»¥é€‚é…ä¸åŒä»»åŠ¡ï¼Ÿ</li>
<li>æ˜¯å¦æœ‰æ›´å…ˆè¿›çš„è§£ç ç­–ç•¥èƒ½è§£å†³Beam Searchçš„ä¿å®ˆé—®é¢˜ï¼Ÿ</li>
</ol>
<hr>
<blockquote>
<p><strong>æ¥æº</strong>ï¼šæ•´ç†è‡ªè‡ªç„¶è¯­è¨€å¤„ç†ç›¸å…³æŠ€æœ¯æ–‡æ¡£ä¸ä»£ç ç¤ºä¾‹ã€‚</p>
</blockquote>
<hr>
<h2 id="è¡ŒåŠ¨æ¸…å•" tabindex="-1"><a class="header-anchor" href="#è¡ŒåŠ¨æ¸…å•"><span>è¡ŒåŠ¨æ¸…å•</span></a></h2>
<ol>
<li>å®ç°Greedy Searchå’ŒBeam Searchçš„ä»£ç å¹¶æµ‹è¯•ä¸åŒå‚æ•°å¯¹ç”Ÿæˆæ•ˆæœçš„å½±å“ã€‚</li>
<li>é˜…è¯»ç›¸å…³è®ºæ–‡ï¼Œæ¢ç´¢æ”¹è¿›Beam Searchçš„æŠ€æœ¯æ–¹æ¡ˆï¼Œä¾‹å¦‚Top-pæˆ–Top-ké‡‡æ ·ã€‚</li>
<li>åº”ç”¨ä¸Šè¿°è§£ç ç­–ç•¥äºå®é™…é¡¹ç›®ï¼Œè¯„ä¼°å…¶æ€§èƒ½å’Œç”Ÿæˆè´¨é‡ã€‚</li>
</ol>
<hr>
<p>ğŸ“ˆ <strong>è¶‹åŠ¿é¢„æµ‹</strong><br>
æœªæ¥è§£ç ç­–ç•¥å°†æ›´æ³¨é‡ç»“åˆæ¦‚ç‡åˆ†å¸ƒä¸ä¸Šä¸‹æ–‡è¯­ä¹‰ï¼Œåˆ©ç”¨åŠ¨æ€è°ƒæ•´æœºåˆ¶æå‡ç”Ÿæˆæ•ˆæœï¼ŒåŒæ—¶å‡å°‘è®¡ç®—å¼€é”€ã€‚</p>
<hr>
<h2 id="åç»­è¿½è¸ª" tabindex="-1"><a class="header-anchor" href="#åç»­è¿½è¸ª"><span>åç»­è¿½è¸ª</span></a></h2>
<ul>
<li>ç ”ç©¶Top-pé‡‡æ ·å’Œæ¸©åº¦è°ƒèŠ‚å¯¹ç”Ÿæˆè´¨é‡çš„å½±å“ã€‚</li>
<li>æ¢ç´¢åŸºäºå¼ºåŒ–å­¦ä¹ ä¼˜åŒ–è§£ç ç­–ç•¥çš„æ–°æ–¹æ³•ã€‚</li>
</ul>
</div></template>


